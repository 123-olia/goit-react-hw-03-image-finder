{"version":3,"sources":["Components/Button/Button.module.scss","Components/ImageGallery/ImageGallery.module.scss","Components/Button/Button.js","Components/FetchImg/FetchImg.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/Searchbar/Searchbar.js","App.js","index.js","Components/Searchbar/Searchbar.module.scss","Components/ImageGalleryItem/ImageGalleryItem.module.scss","Components/Modal/Modal.module.scss"],"names":["module","exports","Button","onClick","this","props","fetchImgAPI","className","styles","Component","FetchImg","q","page","pageAmount","fetch","then","resp","json","ImageGalleryItem","webformatURL","largeImageURL","modal","src","alt","ImageGalleryItemImage","ImageGallery","images","map","el","key","id","Modal","myRef","React","createRef","current","focus","ref","e","target","nodeName","closeModal","onKeyDown","Overlay","tabIndex","ModalStyle","large","Searchbar","state","inputValue","agreed","handleChange","persist","setState","value","handleSubmit","preventDefault","forSubmitSearchbar","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","App","loading","openModal","error","noImages","query","pageNumber","largeImageForModal","undefined","data","arrImg","hits","length","prevState","catch","finally","toggleModal","prevProps","window","scrollTo","top","document","documentElement","scrollHeight","behavior","color","height","width","clientWidth","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8c13be96.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__-01a7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__7Hv-k\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Button.module.scss\";\r\n\r\nclass Button extends Component {\r\n  static propTypes = { fetchImgAPI: PropTypes.func.isRequired };\r\n\r\n  render() {\r\n    return (\r\n      <button onClick={this.props.fetchImgAPI} className={styles.Button}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Button;\r\n","const FetchImg = (q, page, pageAmount) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?key=16997109-7f0e3215b93572c0bd796cdf9&q=${q}&page=${page}&image_type=photo&orientation=horizontal&per_page=${pageAmount}`\r\n  ).then((resp) => resp.json());\r\n};\r\n\r\nexport default FetchImg;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.scss\";\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, modal }) => {\r\n  return (\r\n    <li\r\n      onClick={() => {\r\n        modal(largeImageURL);\r\n      }}\r\n      className={styles.ImageGalleryItem}\r\n    >\r\n      <img\r\n        src={webformatURL}\r\n        alt=\"One of the images\"\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  largeImageURL: PropTypes.string,\r\n  modal: PropTypes.func,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.scss\";\r\n\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGallery = ({ modal, images }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map((el) => (\r\n        <ImageGalleryItem\r\n          key={el.id}\r\n          webformatURL={el.webformatURL}\r\n          largeImageURL={el.largeImageURL}\r\n          modal={modal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  modal: PropTypes.func.isRequired,\r\n  images: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Modal.module.scss\";\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    closeModal: PropTypes.func.isRequired,\r\n    large: PropTypes.string,\r\n  };\r\n\r\n  myRef = React.createRef();\r\n\r\n  componentDidMount() {\r\n    this.myRef.current.focus();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        ref={this.myRef}\r\n        onClick={(e) => e.target.nodeName !== \"IMG\" && this.props.closeModal()}\r\n        onKeyDown={(e) => e.key === \"Escape\" && this.props.closeModal()}\r\n        className={styles.Overlay}\r\n        tabIndex=\"0\"\r\n      >\r\n        <div className={styles.ModalStyle}>\r\n          <img src={this.props.large} alt=\"one of the images\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Searchbar.module.scss\";\r\n\r\nexport default class Searchbar extends Component {\r\n  static propTypes = {\r\n    forSubmitSearchbar: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    inputValue: \"\",\r\n    agreed: true,\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    e.persist();\r\n    this.setState({ inputValue: e.target.value });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.forSubmitSearchbar(this.state.inputValue);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleChange}\r\n            value={this.state.inputValue}\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport \"./App.css\";\n\nimport Button from \"./Components/Button/Button\";\nimport FetchImg from \"./Components/FetchImg/FetchImg\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"./Components/Modal/Modal\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    loading: false,\n    openModal: false,\n    error: null,\n    noImages: false,\n    query: \"\",\n    pageNumber: 1,\n    pageAmount: 12,\n    largeImageForModal: undefined,\n  };\n\n  componentDidMount() {}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchImgAPI();\n    }\n\n    if (\n      prevState.images.length !== this.state.images.length &&\n      prevState.images.length > 0\n    ) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  fetchImgAPI = () => {\n    this.setState({ loading: true });\n    let { query, pageNumber, pageAmount } = this.state;\n\n    FetchImg(query, pageNumber, pageAmount)\n      .then((data) => {\n        let arrImg = data.hits.map((el) => ({\n          id: el.id,\n          webformatURL: el.webformatURL,\n          largeImageURL: el.largeImageURL,\n        }));\n        if (arrImg.length === 0) {\n          this.setState({ noImages: true });\n        }\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...arrImg],\n          pageNumber: (prevState.pageNumber += 1),\n        }));\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  forSubmitSearchbar = (value) => {\n    if (this.state.query !== value) {\n      this.setState({\n        query: value,\n        images: [],\n        pageNumber: 1,\n        noImages: false,\n      });\n    }\n  };\n\n  toggleModal = (largeImageURL) => {\n    this.setState(() => ({\n      openModal: !this.state.openModal,\n      largeImageForModal: largeImageURL,\n    }));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar forSubmitSearchbar={this.forSubmitSearchbar} />\n        {this.state.images.length > 0 && (\n          <ImageGallery modal={this.toggleModal} images={this.state.images} />\n        )}\n        {this.state.images.length > 0 &&\n          !this.state.loading &&\n          !this.state.noImages && <Button fetchImgAPI={this.fetchImgAPI} />}\n        {this.state.loading && (\n          <Loader\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={80}\n            width={document.documentElement.clientWidth}\n          />\n        )}\n        {this.state.error && <p className={\"notif\"}>Sorry, try again later</p>}\n        {this.state.noImages && <p className={\"notif\"}> No images</p>}\n\n        {this.state.openModal && (\n          <Modal\n            closeModal={this.toggleModal}\n            large={this.state.largeImageForModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3RcyL\",\"SearchForm\":\"Searchbar_SearchForm__2f338\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1XB4h\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3KUcv\",\"SearchFormInput\":\"Searchbar_SearchFormInput___jsLp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3W_Ej\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1kuQM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2gtsp\",\"Modal\":\"Modal_Modal__8UK3r\"};"],"sourceRoot":""}